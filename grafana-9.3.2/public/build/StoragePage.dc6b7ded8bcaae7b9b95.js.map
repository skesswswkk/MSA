{"version":3,"file":"StoragePage.dc6b7ded8bcaae7b9b95.js","mappings":"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","sources":["webpack://grafana/./public/app/features/storage/AddRootView.tsx","webpack://grafana/./public/app/features/storage/Breadcrumb.tsx","webpack://grafana/./public/app/features/storage/CreateNewFolderModal.tsx","webpack://grafana/./public/app/features/storage/ExportView.tsx","webpack://grafana/./public/app/features/storage/FileView.tsx","webpack://grafana/./public/app/features/storage/FolderView.tsx","webpack://grafana/./public/app/features/storage/RootView.tsx","webpack://grafana/./public/app/features/storage/UploadButton.tsx","webpack://grafana/./public/app/features/storage/StoragePage.tsx"],"sourcesContent":["import React from 'react';\n\nimport { Button } from '@grafana/ui';\n\nimport { StorageView } from './types';\n\ninterface Props {\n  onPathChange: (p: string, v?: StorageView) => void;\n}\n\nexport function AddRootView({ onPathChange }: Props) {\n  return (\n    <div>\n      <div>TODO... Add ROOT</div>\n      <Button variant=\"secondary\" onClick={() => onPathChange('/')}>\n        Cancel\n      </Button>\n    </div>\n  );\n}\n","import { css } from '@emotion/css';\nimport { uniqueId } from 'lodash';\nimport React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Icon, IconName, useStyles2 } from '@grafana/ui';\n\ninterface Props {\n  rootIcon?: IconName;\n  pathName: string;\n  onPathChange: (path: string) => void;\n}\n\nexport function Breadcrumb({ pathName, onPathChange, rootIcon }: Props) {\n  const styles = useStyles2(getStyles);\n  const paths = pathName.split('/').filter(Boolean);\n\n  return (\n    <ul className={styles.breadCrumb}>\n      {rootIcon && (\n        <li>\n          <Icon name={rootIcon} onClick={() => onPathChange('')} />\n        </li>\n      )}\n      {paths.map((path, index) => {\n        let url = '/' + paths.slice(0, index + 1).join('/');\n        const onClickBreadcrumb = () => onPathChange(url);\n        const isLastBreadcrumb = index === paths.length - 1;\n        return (\n          <li key={uniqueId(path)} onClick={isLastBreadcrumb ? undefined : onClickBreadcrumb}>\n            {path}\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    breadCrumb: css`\n      list-style: none;\n      padding: ${theme.spacing(2, 1)};\n\n      li {\n        display: inline;\n\n        :not(:last-child) {\n          color: ${theme.colors.text.link};\n          cursor: pointer;\n        }\n        + li:before {\n          content: '>';\n          padding: ${theme.spacing(1)};\n          color: ${theme.colors.text.secondary};\n        }\n      }\n    `,\n  };\n}\n","import React from 'react';\nimport { SubmitHandler, Validate } from 'react-hook-form';\n\nimport { Button, Field, Form, Input, Modal } from '@grafana/ui';\n\ntype FormModel = { folderName: string };\n\ninterface Props {\n  onSubmit: SubmitHandler<FormModel>;\n  onDismiss: () => void;\n  validate: Validate<string>;\n}\n\nconst initialFormModel = { folderName: '' };\n\nexport function CreateNewFolderModal({ validate, onDismiss, onSubmit }: Props) {\n  return (\n    <Modal onDismiss={onDismiss} isOpen={true} title=\"New Folder\">\n      <Form defaultValues={initialFormModel} onSubmit={onSubmit} maxWidth={'none'}>\n        {({ register, errors }) => (\n          <>\n            <Field\n              label=\"Folder name\"\n              invalid={!!errors.folderName}\n              error={errors.folderName && errors.folderName.message}\n            >\n              <Input\n                id=\"folder-name-input\"\n                {...register('folderName', {\n                  required: 'Folder name is required.',\n                  validate: { validate },\n                })}\n              />\n            </Field>\n\n            <Modal.ButtonRow>\n              <Button type=\"submit\">Create</Button>\n            </Modal.ButtonRow>\n          </>\n        )}\n      </Form>\n    </Modal>\n  );\n}\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { useAsync, useLocalStorage } from 'react-use';\n\nimport { isLiveChannelMessageEvent, isLiveChannelStatusEvent, LiveChannelScope, SelectableValue } from '@grafana/data';\nimport { getBackendSrv, getGrafanaLiveSrv, config } from '@grafana/runtime';\nimport {\n  Button,\n  CodeEditor,\n  Collapse,\n  Field,\n  HorizontalGroup,\n  InlineField,\n  InlineFieldRow,\n  InlineSwitch,\n  Input,\n  LinkButton,\n  Select,\n  Switch,\n  Alert,\n} from '@grafana/ui';\n\nimport { StorageView } from './types';\n\nexport const EXPORT_LOCAL_STORAGE_KEY = 'grafana.export.config';\n\ninterface ExportStatusMessage {\n  running: boolean;\n  target: string;\n  started: number;\n  finished: number;\n  update: number;\n  count: number;\n  current: number;\n  last: string;\n  status: string;\n}\n\ninterface ExportJob {\n  format: string; // 'git';\n  generalFolderPath: string;\n  history: boolean;\n  exclude: Record<string, boolean>;\n\n  git?: {};\n}\n\nconst defaultJob: ExportJob = {\n  format: 'git',\n  generalFolderPath: 'general',\n  history: true,\n  exclude: {},\n  git: {},\n};\n\ninterface ExporterInfo {\n  key: string;\n  name: string;\n  description: string;\n  children?: ExporterInfo[];\n}\n\nconst formats: Array<SelectableValue<string>> = [\n  { label: 'GIT', value: 'git', description: 'Exports a fresh git repository' },\n  { label: 'Object store', value: 'objectStore', description: 'Export to the SQL based object store' },\n];\n\ninterface Props {\n  onPathChange: (p: string, v?: StorageView) => void;\n}\n\nconst labelWith = 18;\n\nexport const ExportView = ({ onPathChange }: Props) => {\n  const [status, setStatus] = useState<ExportStatusMessage>();\n  const [body, setBody] = useLocalStorage<ExportJob>(EXPORT_LOCAL_STORAGE_KEY, defaultJob);\n  const [details, setDetails] = useState(false);\n\n  const serverOptions = useAsync(() => {\n    return getBackendSrv().get<{ exporters: ExporterInfo[] }>('/api/admin/export/options');\n  }, []);\n\n  const doStart = () => {\n    getBackendSrv()\n      .post('/api/admin/export', body)\n      .then((v) => {\n        if (v.cfg && v.status.running) {\n          setBody(v.cfg); // saves the valid parsed body\n        }\n      });\n  };\n\n  const doStop = () => {\n    getBackendSrv().post('/api/admin/export/stop');\n  };\n\n  const setInclude = useCallback(\n    (k: string, v: boolean) => {\n      if (!serverOptions.value || !body) {\n        return;\n      }\n      const exclude: Record<string, boolean> = {};\n      if (k === '*') {\n        if (!v) {\n          for (let exp of serverOptions.value.exporters) {\n            exclude[exp.key] = true;\n          }\n        }\n        setBody({ ...body, exclude });\n        return;\n      }\n\n      for (let exp of serverOptions.value.exporters) {\n        let val = body.exclude?.[exp.key];\n        if (k === exp.key) {\n          val = !v;\n        }\n        if (val) {\n          exclude[exp.key] = val;\n        }\n      }\n      setBody({ ...body, exclude });\n    },\n    [body, setBody, serverOptions]\n  );\n\n  useEffect(() => {\n    const subscription = getGrafanaLiveSrv()\n      .getStream<ExportStatusMessage>({\n        scope: LiveChannelScope.Grafana,\n        namespace: 'broadcast',\n        path: 'export',\n      })\n      .subscribe({\n        next: (evt) => {\n          if (isLiveChannelMessageEvent(evt)) {\n            setStatus(evt.message);\n          } else if (isLiveChannelStatusEvent(evt)) {\n            setStatus(evt.message);\n          }\n        },\n      });\n\n    return () => {\n      subscription.unsubscribe();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div>\n      {status && (\n        <div>\n          <h3>Status</h3>\n          <pre>{JSON.stringify(status, null, 2)}</pre>\n          {status.running && (\n            <div>\n              <Button variant=\"secondary\" onClick={doStop}>\n                Stop\n              </Button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {!Boolean(status?.running) && (\n        <div>\n          <h3>Export grafana instance</h3>\n          <Field label=\"Format\">\n            <Select\n              options={formats}\n              width={40}\n              value={formats.find((v) => v.value === body?.format)}\n              onChange={(v) => setBody({ ...body!, format: v.value! })}\n            />\n          </Field>\n          {body?.format === 'objectStore' && !config.featureToggles.objectStore && (\n            <div>\n              <Alert title=\"Missing feature flag\">Enable the `objectStore` feature flag</Alert>\n            </div>\n          )}\n          {body?.format === 'git' && (\n            <>\n              <Field label=\"Keep history\">\n                <Switch\n                  value={body?.history}\n                  onChange={(v) => setBody({ ...body!, history: v.currentTarget.checked })}\n                />\n              </Field>\n\n              <Field label=\"Include\">\n                <>\n                  <InlineFieldRow>\n                    <InlineField label=\"Toggle all\" labelWidth={labelWith}>\n                      <InlineSwitch\n                        value={Object.keys(body?.exclude ?? {}).length === 0}\n                        onChange={(v) => setInclude('*', v.currentTarget.checked)}\n                      />\n                    </InlineField>\n                  </InlineFieldRow>\n                  {serverOptions.value && (\n                    <div>\n                      {serverOptions.value.exporters.map((ex) => (\n                        <InlineFieldRow key={ex.key}>\n                          <InlineField label={ex.name} labelWidth={labelWith} tooltip={ex.description}>\n                            <InlineSwitch\n                              value={body?.exclude?.[ex.key] !== true}\n                              onChange={(v) => setInclude(ex.key, v.currentTarget.checked)}\n                            />\n                          </InlineField>\n                        </InlineFieldRow>\n                      ))}\n                    </div>\n                  )}\n                </>\n              </Field>\n            </>\n          )}\n\n          <Field label=\"General folder\" description=\"Set the folder name for items without a real folder\">\n            <Input\n              width={40}\n              value={body?.generalFolderPath ?? ''}\n              onChange={(v) => setBody({ ...body!, generalFolderPath: v.currentTarget.value })}\n              placeholder=\"root folder path\"\n            />\n          </Field>\n\n          <HorizontalGroup>\n            <Button onClick={doStart} variant=\"primary\">\n              Export\n            </Button>\n            <LinkButton href=\"admin/storage/\" variant=\"secondary\">\n              Cancel\n            </LinkButton>\n          </HorizontalGroup>\n        </div>\n      )}\n      <br />\n      <br />\n\n      <Collapse label=\"Request details\" isOpen={details} onToggle={setDetails} collapsible={true}>\n        <CodeEditor\n          height={275}\n          value={JSON.stringify(body, null, 2) ?? ''}\n          showLineNumbers={false}\n          readOnly={false}\n          language=\"json\"\n          showMiniMap={false}\n          onBlur={(text: string) => {\n            setBody(JSON.parse(text)); // force JSON?\n          }}\n        />\n      </Collapse>\n    </div>\n  );\n};\n","import { css } from '@emotion/css';\nimport { isString } from 'lodash';\nimport React, { useMemo } from 'react';\nimport SVG from 'react-inlinesvg';\nimport { useAsync } from 'react-use';\nimport AutoSizer from 'react-virtualized-auto-sizer';\n\nimport { DataFrame, GrafanaTheme2 } from '@grafana/data';\nimport { CodeEditor, useStyles2 } from '@grafana/ui';\n\nimport { getGrafanaStorage } from './storage';\nimport { StorageView } from './types';\n\ninterface FileDisplayInfo {\n  category?: 'svg' | 'image' | 'text';\n  language?: string; // match code editor\n}\n\ninterface Props {\n  listing: DataFrame;\n  path: string;\n  onPathChange: (p: string, view?: StorageView) => void;\n  view: StorageView;\n}\n\nexport function FileView({ listing, path, onPathChange, view }: Props) {\n  const styles = useStyles2(getStyles);\n  const info = useMemo(() => getFileDisplayInfo(path), [path]);\n  const body = useAsync(async () => {\n    if (info.category === 'text') {\n      const rsp = await getGrafanaStorage().get(path);\n      if (isString(rsp)) {\n        return rsp;\n      }\n      return JSON.stringify(rsp, null, 2);\n    }\n    return null;\n  }, [info, path]);\n\n  switch (view) {\n    case StorageView.Config:\n      return <div>CONFIGURE?</div>;\n    case StorageView.Perms:\n      return <div>Permissions</div>;\n    case StorageView.History:\n      return <div>TODO... history</div>;\n  }\n\n  let src = `api/storage/read/${path}`;\n  if (src.endsWith('/')) {\n    src = src.substring(0, src.length - 1);\n  }\n\n  switch (info.category) {\n    case 'svg':\n      return (\n        <div>\n          <SVG src={src} className={styles.icon} />\n        </div>\n      );\n    case 'image':\n      return (\n        <div>\n          <a target={'_self'} href={src}>\n            <img src={src} alt=\"File preview\" className={styles.img} />\n          </a>\n        </div>\n      );\n    case 'text':\n      return (\n        <div className={styles.tableWrapper}>\n          <AutoSizer>\n            {({ width, height }) => (\n              <CodeEditor\n                width={width}\n                height={height}\n                value={body.value ?? ''}\n                showLineNumbers={false}\n                readOnly={true}\n                language={info.language ?? 'text'}\n                showMiniMap={false}\n                onBlur={(text: string) => {\n                  console.log('CHANGED!', text);\n                }}\n              />\n            )}\n          </AutoSizer>\n        </div>\n      );\n  }\n\n  return (\n    <div>\n      FILE: <a href={src}>{path}</a>\n    </div>\n  );\n}\n\nfunction getFileDisplayInfo(path: string): FileDisplayInfo {\n  const idx = path.lastIndexOf('.');\n  if (idx < 0) {\n    return {};\n  }\n  const suffix = path.substring(idx + 1).toLowerCase();\n  switch (suffix) {\n    case 'svg':\n      return { category: 'svg' };\n    case 'jpg':\n    case 'jpeg':\n    case 'png':\n    case 'webp':\n    case 'gif':\n      return { category: 'image' };\n\n    case 'geojson':\n    case 'json':\n      return { category: 'text', language: 'json' };\n    case 'text':\n    case 'go':\n    case 'md':\n      return { category: 'text' };\n  }\n  return {};\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  // TODO: remove `height: 90%`\n  wrapper: css`\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  `,\n  tableControlRowWrapper: css`\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin-bottom: ${theme.spacing(2)};\n  `,\n  // TODO: remove `height: 100%`\n  tableWrapper: css`\n    border: 1px solid ${theme.colors.border.medium};\n    height: 100%;\n  `,\n  uploadSpot: css`\n    margin-left: ${theme.spacing(2)};\n  `,\n  border: css`\n    border: 1px solid ${theme.colors.border.medium};\n    padding: ${theme.spacing(2)};\n  `,\n  img: css`\n    max-width: 100%;\n    // max-height: 147px;\n    // fill: ${theme.colors.text.primary};\n  `,\n  icon: css`\n    // max-width: 100%;\n    // max-height: 147px;\n    // fill: ${theme.colors.text.primary};\n  `,\n});\n","import { css } from '@emotion/css';\nimport React from 'react';\nimport AutoSizer from 'react-virtualized-auto-sizer';\n\nimport { DataFrame, GrafanaTheme2 } from '@grafana/data';\nimport { Table, useStyles2 } from '@grafana/ui';\n\nimport { StorageView } from './types';\n\ninterface Props {\n  listing: DataFrame;\n  view: StorageView;\n}\n\nexport function FolderView({ listing, view }: Props) {\n  const styles = useStyles2(getStyles);\n\n  switch (view) {\n    case StorageView.Config:\n      return <div>CONFIGURE?</div>;\n    case StorageView.Perms:\n      return <div>Permissions</div>;\n  }\n\n  return (\n    <div className={styles.tableWrapper}>\n      <AutoSizer>\n        {({ width, height }) => (\n          <div style={{ width: `${width}px`, height: `${height}px` }}>\n            <Table\n              height={height}\n              width={width}\n              data={listing}\n              noHeader={false}\n              showTypeIcons={false}\n              resizable={false}\n            />\n          </div>\n        )}\n      </AutoSizer>\n    </div>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  // TODO: remove `height: 90%`\n  wrapper: css`\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  `,\n  tableControlRowWrapper: css`\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin-bottom: ${theme.spacing(2)};\n  `,\n  // TODO: remove `height: 100%`\n  tableWrapper: css`\n    border: 1px solid ${theme.colors.border.medium};\n    height: 100%;\n  `,\n  uploadSpot: css`\n    margin-left: ${theme.spacing(2)};\n  `,\n  border: css`\n    border: 1px solid ${theme.colors.border.medium};\n    padding: ${theme.spacing(2)};\n  `,\n});\n","import { css } from '@emotion/css';\nimport React, { useMemo, useState } from 'react';\nimport { useAsync } from 'react-use';\n\nimport { DataFrame, GrafanaTheme2 } from '@grafana/data';\nimport { config } from '@grafana/runtime';\nimport {\n  Alert,\n  Button,\n  Card,\n  FilterInput,\n  HorizontalGroup,\n  Icon,\n  IconName,\n  TagList,\n  useStyles2,\n  VerticalGroup,\n} from '@grafana/ui';\n\nimport { getGrafanaStorage } from './storage';\nimport { StorageInfo, StorageView } from './types';\n\ninterface Props {\n  root: DataFrame;\n  onPathChange: (p: string, v?: StorageView) => void;\n}\n\nexport function RootView({ root, onPathChange }: Props) {\n  const styles = useStyles2(getStyles);\n  const storage = useAsync(getGrafanaStorage().getConfig);\n  const [searchQuery, setSearchQuery] = useState<string>('');\n  let base = location.pathname;\n  if (!base.endsWith('/')) {\n    base += '/';\n  }\n\n  const roots = useMemo(() => {\n    let show = storage.value ?? [];\n    if (searchQuery?.length) {\n      const lower = searchQuery.toLowerCase();\n      show = show.filter((r) => {\n        const v = r.config;\n        const isMatch = v.name.toLowerCase().indexOf(lower) >= 0 || v.description.toLowerCase().indexOf(lower) >= 0;\n        if (isMatch) {\n          return true;\n        }\n        return false;\n      });\n    }\n\n    const base: StorageInfo[] = [];\n    const content: StorageInfo[] = [];\n    for (const r of show ?? []) {\n      if (r.config.underContentRoot) {\n        content.push(r);\n      } else if (r.config.prefix !== 'content') {\n        base.push(r);\n      }\n    }\n    return { base, content };\n  }, [searchQuery, storage]);\n\n  const renderRoots = (pfix: string, roots: StorageInfo[]) => {\n    return (\n      <VerticalGroup>\n        {roots.map((s) => {\n          const ok = s.ready;\n          return (\n            <Card key={s.config.prefix} href={ok ? `admin/storage/${pfix}${s.config.prefix}/` : undefined}>\n              <Card.Heading>{s.config.name}</Card.Heading>\n              <Card.Meta className={styles.clickable}>\n                {s.config.description}\n                {s.config.git?.remote && <a href={s.config.git?.remote}>{s.config.git?.remote}</a>}\n              </Card.Meta>\n              {s.notice?.map((notice) => (\n                <Alert key={notice.text} severity={notice.severity} title={notice.text} />\n              ))}\n\n              <Card.Tags className={styles.clickable}>\n                <HorizontalGroup>\n                  <TagList tags={getTags(s)} />\n                </HorizontalGroup>\n              </Card.Tags>\n              <Card.Figure className={styles.clickable}>\n                <Icon name={getIconName(s.config.type)} size=\"xxxl\" className={styles.secondaryTextColor} />\n              </Card.Figure>\n            </Card>\n          );\n        })}\n      </VerticalGroup>\n    );\n  };\n\n  return (\n    <div>\n      <div className=\"page-action-bar\">\n        <div className=\"gf-form gf-form--grow\">\n          <FilterInput placeholder=\"Search Storage\" value={searchQuery} onChange={setSearchQuery} />\n        </div>\n        <Button className=\"pull-right\" onClick={() => onPathChange('', StorageView.AddRoot)}>\n          Add Root\n        </Button>\n        {config.featureToggles.export && (\n          <Button className=\"pull-right\" onClick={() => onPathChange('', StorageView.Export)}>\n            Export\n          </Button>\n        )}\n      </div>\n\n      <div>{renderRoots('', roots.base)}</div>\n\n      <div>\n        <h3>Content</h3>\n        {renderRoots('content/', roots.content)}\n      </div>\n    </div>\n  );\n}\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    secondaryTextColor: css`\n      color: ${theme.colors.text.secondary};\n    `,\n    clickable: css`\n      pointer-events: none;\n    `,\n  };\n}\n\nfunction getTags(v: StorageInfo) {\n  const tags: string[] = [];\n  if (v.builtin) {\n    tags.push('Builtin');\n  }\n  if (!v.editable) {\n    tags.push('Read only');\n  }\n\n  // Error\n  if (!v.ready) {\n    tags.push('Not ready');\n  }\n  return tags;\n}\n\nexport function getIconName(type: string): IconName {\n  switch (type) {\n    case 'git':\n      return 'code-branch';\n    case 'disk':\n      return 'folder-open';\n    case 'sql':\n      return 'database';\n    default:\n      return 'folder-open';\n  }\n}\n","import { css } from '@emotion/css';\nimport React, { FormEvent, useEffect, useState } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { ConfirmModal, FileUpload, useStyles2 } from '@grafana/ui';\n\nimport { filenameAlreadyExists, getGrafanaStorage } from './storage';\nimport { StorageView, UploadReponse } from './types';\n\ninterface Props {\n  setErrorMessages: (errors: string[]) => void;\n  setPath: (p: string, view?: StorageView) => void;\n  path: string;\n  fileNames: string[];\n}\n\nconst fileFormats = 'image/jpg, image/jpeg, image/png, image/gif, image/webp';\n\nexport function UploadButton({ setErrorMessages, setPath, path, fileNames }: Props) {\n  const styles = useStyles2(getStyles);\n\n  const [file, setFile] = useState<File | undefined>(undefined);\n  const [filenameExists, setFilenameExists] = useState(false);\n  const [fileUploadKey, setFileUploadKey] = useState(1);\n  const [isConfirmOpen, setIsConfirmOpen] = useState(true);\n\n  useEffect(() => {\n    setFileUploadKey((prev) => prev + 1);\n  }, [file]);\n\n  const onUpload = (rsp: UploadReponse) => {\n    console.log('Uploaded: ' + path);\n    if (rsp.path) {\n      setPath(rsp.path);\n    } else {\n      setPath(path); // back to data\n    }\n  };\n\n  const doUpload = async (fileToUpload: File, overwriteExistingFile: boolean) => {\n    if (!fileToUpload) {\n      setErrorMessages(['Please select a file.']);\n      return;\n    }\n\n    const rsp = await getGrafanaStorage().upload(path, fileToUpload, overwriteExistingFile);\n    if (rsp.status !== 200) {\n      setErrorMessages([rsp.message]);\n    } else {\n      onUpload(rsp);\n    }\n  };\n\n  const onFileUpload = (event: FormEvent<HTMLInputElement>) => {\n    setErrorMessages([]);\n\n    const fileToUpload =\n      event.currentTarget.files && event.currentTarget.files.length > 0 && event.currentTarget.files[0]\n        ? event.currentTarget.files[0]\n        : undefined;\n    if (fileToUpload) {\n      setFile(fileToUpload);\n\n      const fileExists = filenameAlreadyExists(fileToUpload.name, fileNames);\n      if (!fileExists) {\n        setFilenameExists(false);\n        doUpload(fileToUpload, false).then((r) => {});\n      } else {\n        setFilenameExists(true);\n        setIsConfirmOpen(true);\n      }\n    }\n  };\n\n  const onOverwriteConfirm = () => {\n    if (file) {\n      doUpload(file, true).then((r) => {});\n      setIsConfirmOpen(false);\n    }\n  };\n\n  const onOverwriteDismiss = () => {\n    setFile(undefined);\n    setFilenameExists(false);\n    setIsConfirmOpen(false);\n  };\n\n  return (\n    <>\n      <FileUpload accept={fileFormats} onFileUpload={onFileUpload} key={fileUploadKey} className={styles.uploadButton}>\n        Upload\n      </FileUpload>\n\n      {file && filenameExists && (\n        <ConfirmModal\n          isOpen={isConfirmOpen}\n          body={\n            <div>\n              <p>{file?.name}</p>\n              <p>A file with this name already exists.</p>\n              <p>What would you like to do?</p>\n            </div>\n          }\n          title={'This file already exists'}\n          confirmText={'Replace'}\n          onConfirm={onOverwriteConfirm}\n          onDismiss={onOverwriteDismiss}\n        />\n      )}\n    </>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  uploadButton: css`\n    margin-right: ${theme.spacing(2)};\n  `,\n});\n","import { css } from '@emotion/css';\nimport React, { useMemo, useState } from 'react';\nimport { useAsync } from 'react-use';\n\nimport { DataFrame, GrafanaTheme2, isDataFrame, ValueLinkConfig } from '@grafana/data';\nimport { config, locationService } from '@grafana/runtime';\nimport { useStyles2, Spinner, TabsBar, Tab, Button, HorizontalGroup, LinkButton, Alert, toIconName } from '@grafana/ui';\nimport appEvents from 'app/core/app_events';\nimport { Page } from 'app/core/components/Page/Page';\nimport { useNavModel } from 'app/core/hooks/useNavModel';\nimport { GrafanaRouteComponentProps } from 'app/core/navigation/types';\nimport { ShowConfirmModalEvent } from 'app/types/events';\n\nimport { AddRootView } from './AddRootView';\nimport { Breadcrumb } from './Breadcrumb';\nimport { CreateNewFolderModal } from './CreateNewFolderModal';\nimport { ExportView } from './ExportView';\nimport { FileView } from './FileView';\nimport { FolderView } from './FolderView';\nimport { RootView } from './RootView';\nimport { UploadButton } from './UploadButton';\nimport { getGrafanaStorage, filenameAlreadyExists } from './storage';\nimport { StorageView } from './types';\n\ninterface RouteParams {\n  path: string;\n}\n\ninterface QueryParams {\n  view: StorageView;\n}\n\nconst folderNameRegex = /^[a-z\\d!\\-_.*'() ]+$/;\nconst folderNameMaxLength = 256;\n\ninterface Props extends GrafanaRouteComponentProps<RouteParams, QueryParams> {}\n\nconst getParentPath = (path: string) => {\n  const lastSlashIdx = path.lastIndexOf('/');\n  if (lastSlashIdx < 1) {\n    return '';\n  }\n\n  return path.substring(0, lastSlashIdx);\n};\n\nexport default function StoragePage(props: Props) {\n  const styles = useStyles2(getStyles);\n  const navModel = useNavModel('storage');\n  const path = props.match.params.path ?? '';\n  const view = props.queryParams.view ?? StorageView.Data;\n  const setPath = (p: string, view?: StorageView) => {\n    let url = ('/admin/storage/' + p).replace('//', '/');\n    if (view && view !== StorageView.Data) {\n      url += '?view=' + view;\n    }\n    locationService.push(url);\n  };\n\n  const [isAddingNewFolder, setIsAddingNewFolder] = useState(false);\n  const [errorMessages, setErrorMessages] = useState<string[]>([]);\n\n  const listing = useAsync((): Promise<DataFrame | undefined> => {\n    return getGrafanaStorage()\n      .list(path)\n      .then((frame) => {\n        if (frame) {\n          const name = frame.fields[0];\n          frame.fields[0] = {\n            ...name,\n            getLinks: (cfg: ValueLinkConfig) => {\n              const n = name.values.get(cfg.valueRowIndex ?? 0);\n              const p = path + '/' + n;\n              return [\n                {\n                  title: `Open ${n}`,\n                  href: `/admin/storage/${p}`,\n                  target: '_self',\n                  origin: name,\n                  onClick: () => {\n                    setPath(p);\n                  },\n                },\n              ];\n            },\n          };\n        }\n        return frame;\n      });\n  }, [path]);\n\n  const isFolder = useMemo(() => {\n    let isFolder = path?.indexOf('/') < 0;\n    if (listing.value) {\n      const length = listing.value.length;\n      if (length === 1) {\n        const first = listing.value.fields[0].values.get(0) as string;\n        isFolder = !path.endsWith(first);\n      } else {\n        // TODO: handle files/folders which do not exist\n        isFolder = true;\n      }\n    }\n    return isFolder;\n  }, [path, listing]);\n\n  const fileNames = useMemo(() => {\n    return (\n      listing.value?.fields\n        ?.find((f) => f.name === 'name')\n        ?.values?.toArray()\n        ?.filter((v) => typeof v === 'string') ?? []\n    );\n  }, [listing]);\n\n  const renderView = () => {\n    const isRoot = !path?.length || path === '/';\n    switch (view) {\n      case StorageView.Export:\n        if (!isRoot) {\n          setPath('');\n          return <Spinner />;\n        }\n        return <ExportView onPathChange={setPath} />;\n\n      case StorageView.AddRoot:\n        if (!isRoot) {\n          setPath('');\n          return <Spinner />;\n        }\n        return <AddRootView onPathChange={setPath} />;\n    }\n\n    const frame = listing.value;\n    if (!isDataFrame(frame)) {\n      return <></>;\n    }\n\n    if (isRoot) {\n      return <RootView root={frame} onPathChange={setPath} />;\n    }\n\n    const opts = [{ what: StorageView.Data, text: 'Data' }];\n\n    // Root folders have a config page\n    if (path.indexOf('/') < 0) {\n      opts.push({ what: StorageView.Config, text: 'Configure' });\n    }\n\n    // Lets only apply permissions to folders (for now)\n    if (isFolder) {\n      opts.push({ what: StorageView.Perms, text: 'Permissions' });\n    } else {\n      // TODO: only if the file exists in a storage engine with\n      opts.push({ what: StorageView.History, text: 'History' });\n    }\n\n    const canAddFolder = isFolder && (path.startsWith('resources') || path.startsWith('content'));\n    const canDelete = path.startsWith('resources/') || path.startsWith('content/');\n    const canViewDashboard = config.featureToggles.dashboardsFromStorage && path.startsWith('content/');\n\n    const getErrorMessages = () => {\n      return (\n        <div className={styles.errorAlert}>\n          <Alert title=\"Upload failed\" severity=\"error\" onRemove={clearAlert}>\n            {errorMessages.map((error) => {\n              return <div key={error}>{error}</div>;\n            })}\n          </Alert>\n        </div>\n      );\n    };\n\n    const clearAlert = () => {\n      setErrorMessages([]);\n    };\n\n    return (\n      <div className={styles.wrapper}>\n        <HorizontalGroup width=\"100%\" justify=\"space-between\" spacing={'md'} height={25}>\n          <Breadcrumb pathName={path} onPathChange={setPath} rootIcon={toIconName(navModel.node.icon ?? '')} />\n          <HorizontalGroup>\n            {canViewDashboard && (\n              <LinkButton icon=\"dashboard\" href={`g/${path}`}>\n                Dashboard\n              </LinkButton>\n            )}\n\n            {canAddFolder && (\n              <>\n                <UploadButton path={path} setErrorMessages={setErrorMessages} fileNames={fileNames} setPath={setPath} />\n                <Button onClick={() => setIsAddingNewFolder(true)}>New Folder</Button>\n              </>\n            )}\n            {canDelete && (\n              <Button\n                variant=\"destructive\"\n                onClick={() => {\n                  const text = isFolder\n                    ? 'Are you sure you want to delete this folder and all its contents?'\n                    : 'Are you sure you want to delete this file?';\n\n                  const parentPath = getParentPath(path);\n                  appEvents.publish(\n                    new ShowConfirmModalEvent({\n                      title: `Delete ${isFolder ? 'folder' : 'file'}`,\n                      text,\n                      icon: 'trash-alt',\n                      yesText: 'Delete',\n                      onConfirm: () =>\n                        getGrafanaStorage()\n                          .delete({ path, isFolder })\n                          .then(() => {\n                            setPath(parentPath);\n                          }),\n                    })\n                  );\n                }}\n              >\n                Delete\n              </Button>\n            )}\n          </HorizontalGroup>\n        </HorizontalGroup>\n\n        {errorMessages.length > 0 && getErrorMessages()}\n\n        <TabsBar>\n          {opts.map((opt) => (\n            <Tab\n              key={opt.what}\n              label={opt.text}\n              active={opt.what === view}\n              onChangeTab={() => setPath(path, opt.what)}\n            />\n          ))}\n        </TabsBar>\n        {isFolder ? (\n          <FolderView listing={frame} view={view} />\n        ) : (\n          <FileView path={path} listing={frame} onPathChange={setPath} view={view} />\n        )}\n\n        {isAddingNewFolder && (\n          <CreateNewFolderModal\n            onSubmit={async ({ folderName }) => {\n              const folderPath = `${path}/${folderName}`;\n              const res = await getGrafanaStorage().createFolder(folderPath);\n              if (typeof res?.error !== 'string') {\n                setPath(folderPath);\n                setIsAddingNewFolder(false);\n              }\n            }}\n            onDismiss={() => {\n              setIsAddingNewFolder(false);\n            }}\n            validate={(folderName) => {\n              const lowerCase = folderName.toLowerCase();\n\n              if (filenameAlreadyExists(folderName, fileNames)) {\n                return 'A file or a folder with the same name already exists';\n              }\n\n              if (!folderNameRegex.test(lowerCase)) {\n                return 'Name contains illegal characters';\n              }\n\n              if (folderName.length > folderNameMaxLength) {\n                return `Name is too long, maximum length: ${folderNameMaxLength} characters`;\n              }\n\n              return true;\n            }}\n          />\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <Page navModel={navModel}>\n      <Page.Contents isLoading={listing.loading}>{renderView()}</Page.Contents>\n    </Page>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  // TODO: remove `height: 90%`\n  wrapper: css`\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  `,\n  tableControlRowWrapper: css`\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin-bottom: ${theme.spacing(2)};\n  `,\n  // TODO: remove `height: 100%`\n  tableWrapper: css`\n    border: 1px solid ${theme.colors.border.medium};\n    height: 100%;\n  `,\n  border: css`\n    border: 1px solid ${theme.colors.border.medium};\n    padding: ${theme.spacing(2)};\n  `,\n  errorAlert: css`\n    padding-top: 20px;\n  `,\n  uploadButton: css`\n    margin-right: ${theme.spacing(2)};\n  `,\n});\n"],"names":["AddRootView","onPathChange","Button","variant","onClick","Breadcrumb","pathName","rootIcon","styles","useStyles2","getStyles","paths","split","filter","Boolean","className","breadCrumb","Icon","name","map","path","index","url","slice","join","isLastBreadcrumb","length","undefined","uniqueId","theme","css","spacing","colors","text","link","secondary","initialFormModel","folderName","CreateNewFolderModal","validate","onDismiss","onSubmit","Modal","isOpen","title","Form","defaultValues","maxWidth","register","errors","Field","label","invalid","error","message","Input","I","id","required","type","defaultJob","format","generalFolderPath","history","exclude","git","formats","value","description","ExportView","status","setStatus","useState","body","setBody","useLocalStorage","details","setDetails","serverOptions","useAsync","getBackendSrv","get","setInclude","useCallback","k","v","exp","exporters","val","key","useEffect","subscription","getGrafanaLiveSrv","getStream","scope","LiveChannelScope","namespace","subscribe","next","evt","isLiveChannelMessageEvent","isLiveChannelStatusEvent","unsubscribe","JSON","stringify","running","post","Select","options","width","find","onChange","config","Alert","Switch","currentTarget","checked","InlineFieldRow","InlineField","labelWidth","Object","keys","ex","tooltip","placeholder","then","cfg","href","Collapse","onToggle","collapsible","CodeEditor","height","showLineNumbers","readOnly","language","showMiniMap","onBlur","parse","FileView","listing","view","info","useMemo","idx","lastIndexOf","substring","toLowerCase","category","getFileDisplayInfo","async","rsp","getGrafanaStorage","isString","StorageView","src","endsWith","icon","target","alt","img","tableWrapper","console","log","wrapper","tableControlRowWrapper","border","medium","uploadSpot","primary","FolderView","style","Table","data","noHeader","showTypeIcons","resizable","RootView","root","storage","getConfig","searchQuery","setSearchQuery","base","location","pathname","roots","show","lower","r","indexOf","content","underContentRoot","push","prefix","renderRoots","pfix","s","ok","ready","Card","clickable","remote","notice","severity","TagList","tags","getTags","getIconName","size","secondaryTextColor","FilterInput","builtin","editable","UploadButton","setErrorMessages","setPath","fileNames","file","setFile","filenameExists","setFilenameExists","fileUploadKey","setFileUploadKey","isConfirmOpen","setIsConfirmOpen","prev","doUpload","fileToUpload","overwriteExistingFile","upload","onUpload","FileUpload","accept","onFileUpload","event","files","filenameAlreadyExists","uploadButton","ConfirmModal","confirmText","onConfirm","folderNameRegex","StoragePage","props","navModel","useNavModel","match","params","queryParams","p","replace","locationService","isAddingNewFolder","setIsAddingNewFolder","errorMessages","list","frame","fields","getLinks","n","values","valueRowIndex","origin","isFolder","first","f","toArray","Page","isLoading","loading","isRoot","Spinner","isDataFrame","opts","what","canAddFolder","startsWith","canDelete","canViewDashboard","clearAlert","justify","toIconName","node","parentPath","lastSlashIdx","getParentPath","appEvents","ShowConfirmModalEvent","yesText","delete","errorAlert","onRemove","TabsBar","opt","Tab","active","onChangeTab","folderPath","res","createFolder","lowerCase","test","renderView"],"sourceRoot":""}